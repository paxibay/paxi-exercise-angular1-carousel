(function(){angular.module("carouselApp",["ngRoute","ngAnimate","ui.bootstrap"]);function e(e){e.when("/",{templateUrl:"/modules/home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/ridings",{templateUrl:"/modules/ridingDetail/ridingDetail.view.html",controller:"ridingDetailCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}angular.module("carouselApp").config(["$routeProvider",e])})();(function(){angular.module("carouselApp").controller("homeCtrl",e);e.$inject=["carouselData"];function e(e){var t=this;t.message="Checking ridings";t.pageHeader={title:"Ridings",strapline:"This page only shows the list of ridings!"};t.init=a;a();function a(){n()}function n(){t.message="Searching for ridings ...";e.ridingList().success(function(e){t.message=e.length>0?"":"No ridings found";t.data={ridings:e}}).error(function(e){t.message="Sorry, something's gone wrong, please try again later"})}}})();(function(){angular.module("carouselApp").controller("ridingDetailCtrl",e);e.$inject=["$scope","carouselData"];function e(e,t){var a=this;a.data={};e.myInterval=5e3;e.noWrapSlides=false;e.active=0;var n=e.slides=[];a.init=r;r();function r(){i()}function i(){a.message="Searching for ridings ...";t.ridingList().success(function(t){a.message=t.length>0?"":"No ridings found";a.data={ridings:t};console.log(a.data);for(var n=0;n<10;n++){e.addSlide(n)}}).error(function(e){a.message="Sorry, something's gone wrong, please try again later"})}e.addSlide=function(e){var t=600+n.length+1;n.push({image:"http://lorempixel.com/"+t+"/300",id:e,riding:a.data.ridings[e],voteTotal:l(e)})};function l(e){var t=a.data.ridings[e];var n=0;angular.forEach(t.results,function(e,t){n=n+e.votes});return n}}})();(function(){angular.module("carouselApp").service("carouselData",e);e.$inject=["$http"];function e(e){var t=function(){return e.get("/api/ridings")};var a=function(t){return e.get("/api/ridings/"+t)};return{ridingList:t,ridingById:a}}})();(function(){angular.module("carouselApp").filter("formaViding",e);function e(){return function(e){return e}}})();(function(){angular.module("carouselApp").directive("navigation",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/navigation/navigation.template.html"}}})();(function(){angular.module("carouselApp").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}}})();(function(){angular.module("carouselApp").directive("footerGeneric",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/footerGeneric/footerGeneric.template.html"}}})();(function(){angular.module("carouselApp").directive("ridingResult",e);function e(){return{restrict:"EA",scope:{local:"=riding"},link:function(e,t,a){var n=e.local.riding.results;var r=e.local.voteTotal;if(angular.isArray(n)){var i=angular.element("<tr>").addClass("thText");t.append(i);var l=angular.element("<th>").text("Name").addClass("tdWidth");i.append(l);l=angular.element("<th>").text("PartyId").addClass("tdWidth");i.append(l);l=angular.element("<th>").text("Votes").addClass("tdWidth");i.append(l);l=angular.element("<th>").text("Elected").addClass("tdWidth");i.append(l);l=angular.element("<th>").text("Party Code").addClass("tdWidth");i.append(l);l=angular.element("<th>").text("Percentage").addClass("tdWidth");i.append(l);function o(e,t){if(e.partyId<t.partyId)return-1;else if(e.partyId>t.partyId)return 1;else return 0}n.sort(o);for(var d=0;d<n.length;d++){var s=n[d].votes/r*100+"| number:2 | number";var i=null;if(n[d].isElected){i=angular.element("<tr>").addClass("highlightedText")}else{i=angular.element("<tr>")}switch(n[d].partyCode){case"LIB":i.addClass("bgLIB");break;case"PC":i.addClass("bgPC");break;case"NDP":i.addClass("bgNDP");break;case"GRN":i.addClass("bgGRN");break;default:i.addClass("bgOTHER");break}t.append(i);var l=angular.element("<td>").text(n[d].name);i.append(l);l=angular.element("<td>").text(n[d].partyId);i.append(l);l=angular.element("<td>").text(n[d].votes);i.append(l);l=angular.element("<td>").text(n[d].isElected);i.append(l);l=angular.element("<td>").text(n[d].partyCode);i.append(l);l=angular.element("<td>").text(e.$eval(s,n[d]));i.append(l)}}}}}})();